import tkinter as tk
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
from matplotlib.figure import Figure

x_data = []
y_data = []

# ê·¸ë˜í”„ ê·¸ë¦¬ê¸° í•¨ìˆ˜
def plot_graph():
    try:
        x = float(x_entry.get())
        y = float(y_entry.get())
    except ValueError:
        print("ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”!")
        return

    x_data.append(x)
    y_data.append(y)

    # ğŸ”¹ xê°’ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•´ì„œ ì§ì„ ì²˜ëŸ¼ ì—°ê²°
    pairs = sorted(zip(x_data, y_data), key=lambda p: p[0])
    sorted_x, sorted_y = zip(*pairs)

    # ê·¸ë˜í”„ ê°±ì‹ 
    ax.clear()
    ax.plot(sorted_x, sorted_y, marker='o', linestyle='-')
    ax.set_title("Dynamic Line Plot")
    ax.set_xlabel("X")
    ax.set_ylabel("Y")
    # ğŸ”¹ ì´ê²Œ í•µì‹¬! ê·¸ë˜í”„ë¥¼ tkinterì— ë‹¤ì‹œ ê·¸ë¦¬ê¸°
    canvas.draw()

# ìœˆë„ìš° ì„¤ì •
root = tk.Tk()
root.title("Plot Graph")

# ì…ë ¥ í•„ë“œ
x_label = tk.Label(root, text="Enter x coordinate:")
x_label.pack()
x_entry = tk.Entry(root)
x_entry.pack()

y_label = tk.Label(root, text="Enter y coordinate:")
y_label.pack()
y_entry = tk.Entry(root)
y_entry.pack()

plot_button = tk.Button(root, text="Plot", command=plot_graph)
plot_button.pack()

# matplotlib figure ìƒì„±
fig = Figure(figsize=(5, 4), dpi=100)
ax = fig.add_subplot(111)

# Tkinterì— matplotlib ê·¸ë˜í”„ ë¶™ì´ê¸°
canvas = FigureCanvasTkAgg(fig, master=root)
canvas.get_tk_widget().pack()

root.mainloop()
